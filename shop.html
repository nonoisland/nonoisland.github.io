<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>玩家商店宣傳 | 休憩島</title>
    <link rel="stylesheet" href="css/shop.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <link rel="apple-touch-icon" sizes="180x180" href="imagelogo/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="imagelogo/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="imagelogo/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">


</head>
<body>
    <!-- 導航欄 -->
    <header>
        <div class="container nav-container">
            <a href="index.html" class="logo">
                <i class="fas fa-island-tropical"></i>
                休憩島
            </a>
            
            <ul class="nav-links">
                <li><a href="index.html">首頁</a></li>
                <li><a href="Community.html">社群準則</a></li>
                <li><a href="Instruction.html">指令教學</a></li>
                <li class="dropdown">
                    <a href="#">其他<i class="fas fa-chevron-down"></i></a>
                    <div class="dropdown-content">
                        <a href="Staff.html"><i class="fas fa-crown"></i> 管理團隊</a>
                        <a href="Support.html"><i class="fas fa-hand-holding-usd"></i> 贊助我們</a>
                        <a href="Shop.html" class="active"><i class="fas fa-store"></i> 商店宣傳</a>
                    </div>
                </li>
                <li><a href="Gallery.html">作品展示</a></li>
                <li id="admin-login-container">
                    <!-- 管理員登入按鈕將由JavaScript動態添加 -->
                </li>
            </ul>
            
            <div class="hamburger">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>

    <!-- 管理員登入模態框 -->
    <div id="admin-login-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">管理員登入</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="admin-password">管理員密碼</label>
                    <input type="password" id="admin-password" placeholder="請輸入管理員密碼">
                </div>
            </div>
            <div class="modal-footer">
                <button id="admin-login-submit" class="btn btn-primary">登入</button>
                <button class="btn btn-outline close-modal">取消</button>
            </div>
        </div>
    </div>

    <!-- 商店宣傳頁面主視覺 -->
    <section class="shop-hero">
        <div class="container">
            <h1>▎玩家商店宣傳</h1>
            <p>宣傳您的商品，與其他玩家交易物品</p>
            <div class="breadcrumb">
                <a href="index.html">首頁</a>
                <span>/</span>
                <a href="#">商店宣傳</a>
            </div>
        </div>
    </section>

    <!-- 商店內容 -->
    <div class="shop-container">
        <!-- 添加商品表單 -->
        <section class="shop-section">
            <h2><i class="fas fa-plus-circle"></i> 添加您的商品</h2>
            <p>填寫以下表單來宣傳您要販賣的物品</p>
            
            <div class="add-item-form">
                <div class="form-group">
                    <label for="item-name">物品名稱</label>
                    <input type="text" id="item-name" placeholder="例如: 鑽石、橡木木材、食物包等">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="item-price">價格 (遊戲幣)</label>
                        <input type="number" id="item-price" min="1" placeholder="例如: 100">
                    </div>
                    
                    <div class="form-group">
                        <label for="item-quantity">數量</label>
                        <input type="number" id="item-quantity" min="1" value="1">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="item-description">物品描述</label>
                    <textarea id="item-description" placeholder="描述您的物品，例如: 全新未使用的鑽石，適合製作高級工具"></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="seller-name">賣家名稱</label>
                        <input type="text" id="seller-name" placeholder="您的遊戲ID">
                    </div>
                    
                    <div class="form-group">
                        <label for="contact-info">傳送指令</label>
                        <input type="text" id="contact-info" placeholder="遊戲內傳送指令">
                    </div>
                </div>
                
                <div class="form-actions">
                    <button id="add-item-btn" class="btn btn-primary">添加商品</button>
                    <button id="clear-form-btn" class="btn btn-outline">清除表單</button>
                </div>
                
                <div class="note-box">
                    <h3>宣傳指南</h3>
                    <p>1. 請確保物品資訊真實準確</p>
                    <p>2. 請提供有效的聯絡方式以便買家聯繫</p>
                    <p>3. 交易時請遵守伺服器規則，避免詐騙行為</p>
                    <p>4. 管理團隊有權移除不適當的商品宣傳</p>
                </div>
            </div>
        </section>

        <!-- 商品列表 -->
        <section class="shop-section">
            <h2><i class="fas fa-list"></i> 商品列表</h2>
            <p>查看其他玩家販賣的物品</p>
            
            <div id="items-container">
                <!-- 商品將在這裡動態顯示 -->
                <div class="empty-state" id="empty-state">
                    <i class="fas fa-box-open"></i>
                    <h3>暫無商品</h3>
                    <p>還沒有玩家添加商品，成為第一個賣家吧！</p>
                </div>
            </div>
        </section>
    </div>

    <!-- 頁尾 -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>休憩島</h3>
                    <p>一個專注於建築體驗的Minecraft伺服器，致力於為玩家打造方便且愉快的生存建築環境。</p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-discord"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.threads.net/@relaxation_island" class="social-link" target="_blank">
                            <i class="fab fa-threads"></i>
                        </a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3>快速連結</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">首頁</a></li>
                        <li><a href="Community.html">社群準則</a></li>
                        <li><a href="Instruction.html">指令教學</a></li>
                        <li><a href="Staff.html">團隊成員</a></li>
                        <li><a href="Shop.html">商店宣傳</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>伺服器資訊</h3>
                    <ul class="footer-links">
                        <li><a href="#">伺服器狀態</a></li>
                        <li><a href="#">規則與條款</a></li>
                        <li><a href="#">常見問題</a></li>
                        <li><a href="#">更新日誌</a></li>
                        <li><a href="#">支援我們</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>聯絡我們</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-envelope"></i> relaxation.island@example.com</li>
                        <li><i class="fab fa-discord"></i> Discord 社群</li>
                        <li><i class="fab fa-instagram"></i> @relaxation_island</li>
                        <li><i class="fab fa-threads"></i> @relaxation_island</li>
                        <li><i class="fas fa-map-marker-alt"></i> 台灣</li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 休憩島 Relaxation-island. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // 漢堡選單功能
        document.querySelector('.hamburger').addEventListener('click', function() {
            document.querySelector('.nav-links').classList.toggle('active');
        });

        // 滾動時導航欄效果
        window.addEventListener('scroll', function() {
            const header = document.querySelector('header');
            if (window.scrollY > 100) {
                header.style.padding = '8px 0';
            } else {
                header.style.padding = '12px 0';
            }
        });

        // 管理員功能
        const ADMIN_PASSWORD = "nono05"; // 預設管理員密碼
        let isAdmin = false;

        // 初始化管理員登入按鈕
        function initAdminLogin() {
            const adminLoginContainer = document.getElementById('admin-login-container');
            
            // 檢查是否已登入
            const savedAdminState = localStorage.getItem('isAdmin');
            if (savedAdminState === 'true') {
                isAdmin = true;
                showAdminStatus();
            } else {
                showLoginButton();
            }
        }

        // 顯示登入按鈕
        function showLoginButton() {
            const adminLoginContainer = document.getElementById('admin-login-container');
            adminLoginContainer.innerHTML = `
                <a href="#" class="admin-login-btn" id="admin-login-btn">
                    <i class="fas fa-user-shield"></i> 管理員登入
                </a>
            `;
            
            document.getElementById('admin-login-btn').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('admin-login-modal').style.display = 'flex';
            });
        }

        // 顯示管理員狀態
        function showAdminStatus() {
            const adminLoginContainer = document.getElementById('admin-login-container');
            adminLoginContainer.innerHTML = `
                <div class="admin-status">
                    <i class="fas fa-user-shield"></i> 管理員模式
                </div>
                <a href="#" class="admin-login-btn" id="admin-logout-btn">
                    <i class="fas fa-sign-out-alt"></i> 登出
                </a>
            `;
            
            document.getElementById('admin-logout-btn').addEventListener('click', function(e) {
                e.preventDefault();
                isAdmin = false;
                localStorage.removeItem('isAdmin');
                showLoginButton();
                displayItems(); // 重新顯示商品，移除刪除按鈕
            });
        }

        // 模態框功能
        document.querySelectorAll('.close-modal').forEach(btn => {
            btn.addEventListener('click', function() {
                document.getElementById('admin-login-modal').style.display = 'none';
                document.getElementById('admin-password').value = '';
            });
        });

        document.getElementById('admin-login-submit').addEventListener('click', function() {
            const password = document.getElementById('admin-password').value;
            if (password === ADMIN_PASSWORD) {
                isAdmin = true;
                localStorage.setItem('isAdmin', 'true');
                document.getElementById('admin-login-modal').style.display = 'none';
                document.getElementById('admin-password').value = '';
                showAdminStatus();
                displayItems(); // 重新顯示商品，添加刪除按鈕
            } else {
                alert('密碼錯誤，請重新輸入！');
                document.getElementById('admin-password').value = '';
            }
        });

        // 點擊模態框外部關閉
        document.getElementById('admin-login-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.style.display = 'none';
                document.getElementById('admin-password').value = '';
            }
        });

        // 玩家商店功能
        document.addEventListener('DOMContentLoaded', function() {
            initAdminLogin();
            
            const addItemBtn = document.getElementById('add-item-btn');
            const clearFormBtn = document.getElementById('clear-form-btn');
            const itemsContainer = document.getElementById('items-container');
            const emptyState = document.getElementById('empty-state');
            
            // 從本地存儲加載商品
            let items = JSON.parse(localStorage.getItem('playerShopItems')) || [];
            
            // 顯示商品
            function displayItems() {
                if (items.length === 0) {
                    emptyState.style.display = 'block';
                    return;
                }
                
                emptyState.style.display = 'none';
                itemsContainer.innerHTML = '';
                
                // 創建商品網格
                const itemsGrid = document.createElement('div');
                itemsGrid.className = 'shop-items';
                
                // 添加每個商品
                items.forEach((item, index) => {
                    const itemElement = document.createElement('div');
                    itemElement.className = 'shop-item';
                    
                    // 如果是管理員模式，添加刪除按鈕
                    const deleteButton = isAdmin ? 
                        `<button class="delete-btn" data-index="${index}"><i class="fas fa-trash"></i></button>` : '';
                    
                    itemElement.innerHTML = `
                        ${deleteButton}
                        <div class="item-header">
                            <div class="item-name">${item.name}</div>
                            <div class="item-price">${item.price} 遊戲幣</div>
                        </div>
                        <div class="item-seller">
                            <i class="fas fa-user"></i> 賣家: ${item.seller}
                        </div>
                        <div class="item-quantity">數量: ${item.quantity}</div>
                        <div class="item-description">${item.description}</div>
                        <div class="item-contact">
                            <div class="contact-info">聯絡: ${item.contact}</div>
                            <button class="contact-btn" data-contact="${item.contact}">聯絡賣家</button>
                        </div>
                    `;
                    itemsGrid.appendChild(itemElement);
                });
                
                itemsContainer.appendChild(itemsGrid);
                
                // 添加聯絡按鈕事件
                document.querySelectorAll('.contact-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const contactInfo = this.getAttribute('data-contact');
                        alert(`聯絡資訊: ${contactInfo}\n\n請使用此資訊聯絡賣家進行交易`);
                    });
                });
                
                // 如果是管理員模式，添加刪除按鈕事件
                if (isAdmin) {
                    document.querySelectorAll('.delete-btn').forEach(btn => {
                        btn.addEventListener('click', function() {
                            const index = parseInt(this.getAttribute('data-index'));
                            if (confirm('確定要刪除此商品嗎？此操作無法復原。')) {
                                deleteItem(index);
                            }
                        });
                    });
                }
            }
            
            // 刪除商品
            function deleteItem(index) {
                items.splice(index, 1);
                localStorage.setItem('playerShopItems', JSON.stringify(items));
                displayItems();
            }
            
            // 初始化顯示商品
            displayItems();
            
            // 添加商品
            addItemBtn.addEventListener('click', function() {
                const itemName = document.getElementById('item-name').value.trim();
                const itemPrice = document.getElementById('item-price').value.trim();
                const itemQuantity = document.getElementById('item-quantity').value.trim();
                const itemDescription = document.getElementById('item-description').value.trim();
                const sellerName = document.getElementById('seller-name').value.trim();
                const contactInfo = document.getElementById('contact-info').value.trim();
                
                // 驗證表單
                if (!itemName || !itemPrice || !itemQuantity || !sellerName || !contactInfo) {
                    alert('請填寫所有必填欄位');
                    return;
                }
                
                // 創建新商品
                const newItem = {
                    name: itemName,
                    price: itemPrice,
                    quantity: itemQuantity,
                    description: itemDescription || '無描述',
                    seller: sellerName,
                    contact: contactInfo,
                    date: new Date().toLocaleDateString()
                };
                
                // 添加到商品列表
                items.unshift(newItem);
                
                // 保存到本地存儲
                localStorage.setItem('playerShopItems', JSON.stringify(items));
                
                // 重新顯示商品
                displayItems();
                
                // 清除表單
                clearForm();
                
                alert('商品已成功添加！');
            });
            
            // 清除表單
            clearFormBtn.addEventListener('click', clearForm);
            
            function clearForm() {
                document.getElementById('item-name').value = '';
                document.getElementById('item-price').value = '';
                document.getElementById('item-quantity').value = '1';
                document.getElementById('item-description').value = '';
                document.getElementById('seller-name').value = '';
                document.getElementById('contact-info').value = '';
            }
        });
    </script>
</body>
</html>